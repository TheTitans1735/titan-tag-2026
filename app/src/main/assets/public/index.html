<!doctype html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#f2aff4" />
    <title>Titan Tag</title>
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <div id="app" class="app">
      <main id="screen-splash" class="screen screen--active" aria-label="Titan Tag Splash">
        <div class="splash">
          <img class="splash__logo" src="assets/app-logo.png" alt="Titan Tag" onerror="this.onerror=null;this.src='assets/titan-tag.png';" />
          <div class="splash__title">Titan Tag</div>
          <div class="splash__subtitle">转注 爪 砖</div>
        </div>
      </main>

      <main id="screen-login" class="screen" aria-label="Login">
        <header class="topbar">
          <div class="topbar__brand">砖 Titan Tag</div>
        </header>

        <section class="card">
          <h1 class="card__title">住 -驻注转</h1>
          <p class="card__hint">驻专 砖专 砖专. 驻砖专 砖转 专 "驻住 砖转砖".</p>

          <form id="login-form" class="form" autocomplete="on">
            <label class="field">
              <span class="field__label">砖</span>
              <input id="login-name" class="field__input" type="text" inputmode="text" required />
            </label>

            <label class="field">
              <span class="field__label"></span>
              <input id="login-email" class="field__input" type="email" inputmode="email" required />
            </label>

            <label class="field">
              <span class="field__label">转驻拽</span>
              <select id="login-role" class="field__input" required>
                <option value="" selected disabled>专/</option>
                <option value=""></option>
                <option value="注">注</option>
              </select>
            </label>

            <label class="field">
              <span class="field__label">转专 砖</span>
              <select id="login-site" class="field__input" required>
                <option value="" selected disabled>专/ 转专</option>
              </select>
            </label>

            <details class="details">
              <summary class="details__summary">专转 Google Sheets (-驻注)</summary>
              <label class="field">
                <span class="field__label">转转 Web App 砖 Google Apps Script</span>
                <input id="script-url" class="field__input" type="url" inputmode="url" placeholder="https://script.google.com/macros/s/.../exec" />
              </label>
              <p class="card__hint">驻砖专 砖专 专拽 专注 专 专 .</p>
            </details>

            <button class="btn btn--primary" type="submit">住</button>
          </form>
        </section>
      </main>

      <main id="screen-permissions" class="screen" aria-label="Permissions">
        <header class="topbar">
          <div id="hello-title" class="topbar__brand">砖</div>
        </header>

        <section class="card">
          <h1 class="card__title">专砖转</h1>
          <p class="card__hint"> 注 砖 爪专 专砖转 爪, 拽专驻, 拽 注.</p>

          <button id="btn-request-permissions" class="btn btn--primary" type="button">拽砖 专砖转</button>
          <div id="permissions-status" class="status" role="status" aria-live="polite"></div>

          <button id="btn-continue" class="btn" type="button">砖</button>
        </section>
      </main>

      <main id="screen-home" class="screen" aria-label="Home">
        <header class="topbar">
          <div id="home-hello" class="topbar__brand">砖</div>
          <button id="btn-reset" class="topbar__action" type="button" title="爪">爪</button>
        </header>

        <section class="card">
          <h1 class="card__title">Titan Tag</h1>
          <p class="card__hint">专注  砖 住住: 住 , 住 -驻注转 专砖转.</p>
          <div class="kv">
            <div class="kv__row"><span>砖转砖:</span> <span id="kv-user">-</span></div>
            <div class="kv__row"><span>转驻拽:</span> <span id="kv-role">-</span></div>
            <div class="kv__row"><span>转专:</span> <span id="kv-site">-</span></div>
            <div class="kv__row"><span>Sheets API:</span> <span id="kv-sheets"> 专</span></div>
          </div>

          <div class="actions">
            <button id="btn-go-add-find" class="btn btn--primary" type="button">住祝 爪</button>
            <button id="btn-go-finds" class="btn" type="button">专砖转 爪</button>
            <button id="btn-go-sites" class="btn" type="button">住祝 转专</button>
            <button id="btn-go-scan-find-qr" class="btn" type="button">住专拽转 QR 爪</button>
            <button id="btn-share" class="btn" type="button">砖转祝</button>
          </div>
        </section>
      </main>

      <main id="screen-scan-find-qr" class="screen" aria-label="Scan Find QR">
        <header class="topbar">
          <button id="btn-back-from-scan-find-qr" class="topbar__action" type="button" title="专">专</button>
          <div class="topbar__brand">住专拽转 QR 爪</div>
          <div class="topbar__spacer"></div>
        </header>

        <section class="card">
          <div class="scan-hero" aria-label="住专拽转 QR">
            <img class="scan-hero__logo" src="assets/app-logo.png" alt="Titan Tag" onerror="this.onerror=null;this.src='assets/titan-tag.png';" />
            <button id="btn-open-scan-camera" class="scan-hero__camera" type="button" title="驻转 爪">
              <svg class="scan-hero__icon" viewBox="0 0 24 24" aria-hidden="true">
                <path
                  fill="currentColor"
                  d="M9 4l1.5-2h3L15 4h3a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h3zm3 15a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0-2.1a2.9 2.9 0 1 1 0-5.8 2.9 2.9 0 0 1 0 5.8z"
                />
              </svg>
            </button>
          </div>

          <div id="scan-status" class="status" role="status" aria-live="polite"></div>

          <div class="scan-preview" hidden>
            <video id="scan-video" class="scan-preview__video" playsinline muted></video>
            <div class="scan-preview__frame" aria-hidden="true"></div>
          </div>
        </section>
      </main>

      <main id="screen-add-find" class="screen" aria-label="Add Find">
        <header class="topbar">
          <button id="btn-back-from-add" class="topbar__action" type="button" title="专">专</button>
          <div id="add-find-title" class="topbar__brand">住祝 爪</div>
          <div class="topbar__spacer"></div>
        </header>

        <div class="topbar-mic-container">
          <button id="btn-mic" class="mic-btn mic-btn--inactive" aria-label="拽专驻" title="拽专驻"></button>
        </div>

        <section class="card">
          <form id="find-form" class="form" autocomplete="off">
            <label class="field">
              <span class="field__label">砖 转专 ( 转 注专)</span>
              <input id="find-site" class="field__input" type="text" readonly />
            </label>

            <label class="field">
              <span class="field__label"> 爪</span>
              <input id="find-id" class="field__input" type="text" inputmode="text" autocomplete="off" />
            </label>

            <div class="qr" aria-label="QR 爪">
              <div class="qr__head">
                <div class="qr__title">QR 爪</div>
                <button id="btn-print-qr" class="icon-btn icon-btn--sm" type="button" title="驻住 QR">
                  <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                    <path
                      fill="currentColor"
                      d="M6 7V3h12v4H6zm11 0V5H7v2h10zM6 21v-4H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2v4H6zm2-2h8v-5H8v5zm12-6a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"
                    />
                  </svg>
                </button>
              </div>
              <div class="qr__frame">
                <img id="find-qr-image" class="qr__img" alt="QR 爪" hidden />
              </div>
              <div id="qr-status" class="qr__hint" role="status" aria-live="polite"></div>
            </div>

            <label class="field">
              <span class="field__label">拽</span>
              <select id="find-plot" class="field__input" required>
                <option value="" selected disabled>专/</option>
              </select>
            </label>

            <label class="field">
              <span class="field__label">砖</span>
              <select id="find-layer" class="field__input" required>
                <option value="" selected disabled>专/</option>
              </select>
            </label>

            <label class="field">
              <span class="field__label">转专 拽住</span>
              <textarea id="find-description" class="field__input field__input--textarea" rows="3" required></textarea>
            </label>

            <label class="field">
              <span class="field__label">拽 </span>
              <input id="find-location" class="field__input" type="text" readonly />
            </label>

            <label class="field">
              <span class="field__label">转专 砖注</span>
              <input id="find-datetime" class="field__input" type="text" readonly />
            </label>

            <div class="media">
              <div class="media__head">
                <div class="media__title">转\\住驻 专</div>
                <div class="media__buttons">
                  <button id="btn-image-camera" class="icon-btn" type="button" title="转 (爪)">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                      <path
                        fill="currentColor"
                        d="M9 4l1.5-2h3L15 4h3a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h3zm3 15a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0-2.1a2.9 2.9 0 1 1 0-5.8 2.9 2.9 0 0 1 0 5.8z"
                      />
                    </svg>
                  </button>

                  <button id="btn-image-gallery" class="icon-btn" type="button" title="住驻 专">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                      <path fill="currentColor" d="M11 5h2v14h-2z" />
                      <path fill="currentColor" d="M5 11h14v2H5z" />
                    </svg>
                  </button>

                  <button id="btn-video-camera" class="icon-btn" type="button" title=" (爪)">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                      <path
                        fill="currentColor"
                        d="M17 10.5V7a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3.5l4 4v-11l-4 4z"
                      />
                    </svg>
                  </button>
                </div>
              </div>

              <input id="input-image-camera" class="sr-only" type="file" accept="image/*" capture="environment" />
              <input id="input-image-gallery" class="sr-only" type="file" accept="image/*" multiple />
              <input id="input-video-camera" class="sr-only" type="file" accept="video/*" capture="environment" />

              <div id="media-grid" class="media-grid" aria-label="media thumbnails"></div>
            </div>

            <button id="btn-save-find" class="btn btn--primary" type="submit" title="砖专">砖专</button>
          </form>
        </section>
      </main>

      <main id="screen-finds" class="screen" aria-label="Finds List">
        <header class="topbar">
          <button id="btn-back-from-finds" class="topbar__action" type="button" title="专">专</button>
          <div class="topbar__brand">专砖转 爪</div>
          <button id="btn-new-find" class="topbar__action" type="button" title="爪 砖">爪 砖</button>
        </header>

        <section class="card">
          <div id="finds-list" class="finds"></div>
        </section>
      </main>

      <!-- Sites Manager Screen -->
      <main id="screen-sites" class="screen" aria-label="Sites Manager">
        <header class="topbar">
          <button id="btn-back-from-sites" class="topbar__action" type="button" title="专">专</button>
          <div class="topbar__brand">住祝 转专</div>
          <div class="topbar__spacer"></div>
        </header>

        <section class="card">
          <h1 class="card__title" id="sites-card-title">住祝 转专</h1>

          <label class="field">
            <span class="field__label">砖 转专</span>
            <select id="site-name" class="field__input" required>
              <option value="" selected disabled>专/ 转专</option>
            </select>
          </label>

          <button id="btn-save-site" class="btn btn--primary" type="button">砖专</button>
        </section>
      </main>
    </div>

    <div id="viewer" class="viewer" hidden>
      <div class="viewer__backdrop" data-close="1"></div>
      <div class="viewer__panel" role="dialog" aria-modal="true" aria-label="viewer">
        <button class="viewer__close" type="button" data-close="1" title="住专">住专</button>
        <div id="viewer-body" class="viewer__body"></div>
      </div>
    </div>

    <script>
      window.Android = window.Android || {};
    </script>
    <script type="module" src="js/main.js"></script>
  </body>
</html>
